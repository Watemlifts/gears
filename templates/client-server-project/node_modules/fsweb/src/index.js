"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var sys_1 = require("./sys/sys");
var parse_1 = require("./parser/parse");
var writer_1 = require("./writer/writer");
var runtime_1 = require("./runtime/runtime");
(function () {
    var writer = writer_1.create_writer(process.stdout);
    try {
        var argument = parse_1.parse_argument(process.argv);
        if (sys_1.path_exists(argument.path) === false)
            throw Error("no such file or directory.");
        writer.info("[watching: " + argument.path + " on port " + argument.port + "]");
        var runtime = runtime_1.create_runtime(argument, writer);
        runtime.start();
    }
    catch (e) {
        writer.write(e.message + "\n");
    }
})();
